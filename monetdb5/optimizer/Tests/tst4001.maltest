#tesing the optimizers

#setDebug();

statement ok
function qry(i:dbl):dbl;
   i:= 1.0:dbl;
   z:= mmath.sin(i);
   j:= 1.0:dbl;
   k:= mmath.sin(j);
   l:= k+i;
   return z;
end qry;

statement ok
t0:= alarm.usec()

statement ok
optimizer.aliases("user","qry")

statement ok
optimizer.commonTerms("user","qry")

statement ok
optimizer.aliases("user","qry")

statement ok
t1:= alarm.usec()

statement ok
t2:= t1-t0

query T rowsort
io.print("execute")
----
"execute"

statement ok
z:= user.qry(0.0:dbl)

query T rowsort
io.print(z)
----
0.8414709848078965

query T rowsort
io.print("done")
----
"done"

query T rowsort
mdb.list("user","qry")
----
#aliases              actions= 1 time=1 usec 

query T rowsort
mdb.list()
----
end user.main;


