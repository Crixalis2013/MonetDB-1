statement error
SELECT 'T1.1', ST_AsEWKT(ST_SnapToGrid('POINT EMPTY', 1))

statement error
SELECT 'T1.2', ST_AsEWKT(ST_SnapToGrid('LINESTRING EMPTY', 1))

statement error
SELECT 'T1.3', ST_AsEWKT(ST_SnapToGrid(ST_GeomFromText('POLYGON EMPTY', 4326), 1))

statement error
SELECT 'T2.1', ST_AsEWKT(ST_Buffer(ST_GeomFromText('POINT EMPTY', 4326), 0))

query TT rowsort
SELECT 'T2.2', ST_AsEWKT(ST_Buffer(ST_GeomFromText('LINESTRING EMPTY', 4326), 0))
----
T2.2
SRID:4326;POLYGON EMPTY

query TT rowsort
SELECT 'T2.3', ST_AsEWKT(ST_Buffer(ST_GeomFromText('MULTIPOLYGON EMPTY', 4326), 0))
----
T2.3
SRID:4326;POLYGON EMPTY

query TIT rowsort
WITH b as ( SELECT ST_Buffer(ST_GeomFromText('MULTIPOINT EMPTY', 4326), 1) as g )
SELECT 'T2.4', ST_Srid(g), GeometryType(g) from b
----
T2.4
4326
POLYGON

statement error
SELECT 'T3.1', ST_AsGML('POINT EMPTY')

statement error
SELECT 'T3.2', ST_AsGML('LINESTRING EMPTY')

statement error
SELECT 'T3.3', ST_AsGML('POLYGON EMPTY')

statement error
SELECT 'T3.4', ST_AsGML('MULTIPOLYGON EMPTY')

statement error
SELECT 'T3.5', ST_AsGML('MULTILINESTRING EMPTY')

statement error
SELECT 'T3.6', ST_AsGML('GEOMETRYCOLLECTION EMPTY')

statement error
SELECT 'T3.7', ST_AsGML(3,'POINT EMPTY')

statement error
SELECT 'T3.8', ST_AsGML(3,'LINESTRING EMPTY')

statement error
SELECT 'T3.9', ST_AsGML(3,'POLYGON EMPTY')

statement error
SELECT 'T3.10', ST_AsGML(3,'MULTIPOLYGON EMPTY')

statement error
SELECT 'T3.11', ST_AsGML(3,'MULTILINESTRING EMPTY')

statement error
SELECT 'T3.12', ST_AsGML(3,'GEOMETRYCOLLECTION EMPTY')

statement error
SELECT 'T3.13', ST_AsGML(3,'POINT EMPTY')

statement error
SELECT 'T3.14', ST_AsGML(3,'LINESTRING EMPTY')

statement error
SELECT 'T3.15', ST_AsGML(3,'POLYGON EMPTY')

statement error
SELECT 'T3.16', ST_AsGML(3,'MULTIPOLYGON EMPTY')

statement error
SELECT 'T3.17', ST_AsGML(3,'MULTILINESTRING EMPTY')

statement error
SELECT 'T3.18', ST_AsGML(3,'GEOMETRYCOLLECTION EMPTY')

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry,
 120 as tolerance
 ) SELECT 'ST_Buffer(empty, tolerance) == empty', ST_AsBinary(ST_Buffer(empty, tolerance)) FROM inp
----
ST_Buffer(empty, tolerance) == empty
010300008000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Union(geometry, empty) == geometry', ST_AsBinary(ST_Union(geometry, empty)) FROM inp
----
ST_Union(geometry, empty) == geometry
0103000000010000000400000000000000000000000000000000000000000000000000244000000000000000000000000000001440000000000000144000000000000000000000000000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_Union(empty, empty) == empty', ST_AsBinary(ST_Union(empty, empty)) FROM inp
----
ST_Union(empty, empty) == empty
010300008000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Intersection(geometry, empty) == empty', ST_AsBinary(ST_Intersection(geometry, empty)) FROM inp
----
ST_Intersection(geometry, empty) == empty
010700000000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_Intersection(empty, empty) == empty', ST_AsBinary(ST_Intersection(empty, empty)) FROM inp
----
ST_Intersection(empty, empty) == empty
010700000000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Difference(geometry, empty) == geometry', ST_AsBinary(ST_Difference(geometry, empty)) FROM inp
----
ST_Difference(geometry, empty) == geometry
0103000000010000000400000000000000000000000000000000000000000000000000244000000000000000000000000000001440000000000000144000000000000000000000000000000000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Difference(empty, geometry) == empty', ST_AsBinary(ST_Difference(empty, geometry)) FROM inp
----
ST_Difference(empty, geometry) == empty
010700000000000000

query TR rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Distance(geometry, empty) == NULL', ST_Distance(geometry, empty) FROM inp
----
ST_Distance(geometry, empty) == NULL
0.000

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry,
 120 as tolerance
 ) SELECT 'ST_DWithin(geometry, empty, tolerance) == FALSE', ST_DWithin(geometry, empty, tolerance) FROM inp
----
ST_DWithin(geometry, empty, tolerance) == FALSE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Within(geometry, empty) == FALSE', ST_Within(geometry, empty) FROM inp
----
ST_Within(geometry, empty) == FALSE
False

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Contains(empty, geometry) == FALSE', ST_Contains(empty, geometry) FROM inp
----
ST_Contains(empty, geometry) == FALSE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Within(empty, geometry) == FALSE', ST_Within(empty, geometry) FROM inp
----
ST_Within(empty, geometry) == FALSE
False

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_Contains(empty, empty) == FALSE', ST_Contains(empty, empty) FROM inp
----
ST_Contains(empty, empty) == FALSE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Intersects(geometry, empty) == FALSE', ST_Intersects(geometry, empty) FROM inp
----
ST_Intersects(geometry, empty) == FALSE
False

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_Intersects(empty, empty) == FALSE', ST_Intersects(empty, empty) FROM inp
----
ST_Intersects(empty, empty) == FALSE
False

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Disjoint(empty, empty) == TRUE', ST_Disjoint(empty, empty) FROM inp
----
ST_Disjoint(empty, empty) == TRUE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 'POLYGON((0 0, 10 0, 5 5, 0 0))' as geometry
 ) SELECT 'ST_Disjoint(geometry, empty) == TRUE', ST_Disjoint(geometry, empty) FROM inp
----
ST_Disjoint(geometry, empty) == TRUE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty1,
 'POINT Z EMPTY' as empty2
 ) SELECT 'ST_Equals(empty1, empty2) == TRUE', ST_Equals(empty1, empty2) FROM inp
----
ST_Equals(empty1, empty2) == TRUE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_IsSimple(empty) == TRUE', ST_IsSimple(empty) FROM inp
----
ST_IsSimple(empty) == TRUE
True

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_IsValid(empty) == TRUE', ST_IsValid(empty) FROM inp
----
ST_IsValid(empty) == TRUE
True

query TI rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_NumGeometries(empty) == 0', ST_NumGeometries(empty) FROM inp
----
ST_NumGeometries(empty) == 0
1

query TI rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_NRings(empty) == 0', ST_NRings(empty) FROM inp
----
ST_NRings(empty) == 0
0

query TI rowsort
WITH inp AS (SELECT
 'LINESTRING EMPTY' as empty
 ) SELECT 'ST_NumPoints(empty) == 0', ST_NumPoints(empty) FROM inp
----
ST_NumPoints(empty) == 0
0

query TI rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_NPoints(empty) == 0', ST_NPoints(empty) FROM inp
----
ST_NPoints(empty) == 0
0

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 1 as n
 ) SELECT 'ST_GeometryN(empty, n) == empty', ST_GeometryN(empty, n) FROM inp
----
ST_GeometryN(empty, n) == empty
NULL

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_ExteriorRing(empty) == empty', ST_ExteriorRing(empty) FROM inp
----
ST_ExteriorRing(empty) == empty
LINESTRING EMPTY

query TT rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty,
 1 as n
 ) SELECT 'ST_InteriorRingN(empty, n) == NULL', ST_InteriorRingN(empty, n) FROM inp
----
ST_InteriorRingN(empty, n) == NULL
NULL

query TR rowsort
WITH inp AS (SELECT
 'POLYGON EMPTY' as empty
 ) SELECT 'ST_Area(empty) == 0', ST_Area(empty) FROM inp
----
ST_Area(empty) == 0
0.000

query TR rowsort
WITH inp AS (SELECT
 'LINESTRING EMPTY' as empty
 ) SELECT 'ST_Length(empty) == 0', ST_Length(empty) FROM inp
----
ST_Length(empty) == 0
0.000

query TT rowsort
SELECT '~=', MBR('LINESTRING EMPTY') ~= MBR('LINESTRING EMPTY')
----
~=
True


