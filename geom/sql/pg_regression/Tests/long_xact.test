statement error
SELECT EnableLongTransactions()

statement error
CREATE TABLE test_locks (id numeric, state varchar)

statement error
INSERT INTO test_locks(id) VALUES (1)

statement error
INSERT INTO test_locks(id) VALUES (2)

statement error
INSERT INTO test_locks(id) VALUES (3)

statement error
SELECT CheckAuth('test_locks', 'id')

statement error
UPDATE test_locks SET state = 'nolocks'

statement error
SELECT LockRow('test_locks', '1', 'auth1', now()::timestamp+'00:01')

statement error
SELECT LockRow('test_locks', '2', 'auth2', now()::timestamp+'00:01')

statement error
UPDATE test_locks SET state = 'unauthorized' where id = 1

statement error
BEGIN

statement error
	SELECT AddAuth('auth1')

statement error
	UPDATE test_locks SET state = 'authorized' where id = 1

statement error
END

statement error
UPDATE test_locks SET state = 'unauthorized' where id = 1

statement error
BEGIN

statement error
	SELECT AddAuth('auth2')

statement error
	UPDATE test_locks SET state = 'authorized' where id = 2

statement error
END

statement error
BEGIN

statement error
	SELECT AddAuth('auth2')

statement error
	UPDATE test_locks SET state = 'unauthorized' where id = 1

statement error
END

statement error
UPDATE test_locks SET state = 'unauthorized' where id = 2

statement error
UPDATE test_locks SET state = 'unauthorized' where id = 1

statement error
SELECT * from test_locks

statement error
DROP TABLE test_locks

statement error
SELECT DisableLongTransactions()


