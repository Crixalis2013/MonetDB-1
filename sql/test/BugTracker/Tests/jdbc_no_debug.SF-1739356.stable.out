stdout of test 'jdbc_no_debug.SF-1739356` in directory 'sql/test/BugTracker` itself:


# 15:15:25 >  
# 15:15:25 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-315469" "--port=36444"
# 15:15:25 >  

#plan select count(*) from tables;
% .plan # table_name
% rel # name
% clob # type
% 74 # length
project (
| group by (
| | union (
| | | group by (
| | | | project (
| | | | | select (
| | | | | | table(sys._tables) [ "_tables"."id", "_tables"."type" ] COUNT 
| | | | | ) [ "_tables"."type" != smallint "2" ]
| | | | ) [ "_tables"."id" as "tables"."id" ]
| | | ) [  ] [ sys.count() NOT NULL as "%10"."%10" ],
| | | group by (
| | | | project (
| | | | | table(tmp._tables) [ "_tables"."id" ] COUNT 
| | | | ) [ "_tables"."id" as "tables"."id" ]
| | | ) [  ] [ sys.count() NOT NULL as "%10"."%10" ]
| | ) [ "%10"."%10" ]
| ) [  ] [ sys.sum no nil ("%10"."%10") as "%10"."%10" ]
) [ "%10"."%10" NOT NULL ]
#set optimizer='sequential_pipe';
#explain select count(*) from tables;
% .explain # table_name
% mal # name
% clob # type
% 114 # length
function user.main():void;
    X_1:void := querylog.define("explain select count(*) from tables;":str, "sequential_pipe":str, 32:int);
    X_42:bat[:lng] := bat.new(nil:lng);
    X_4:int := sql.mvc();
    X_22:bat[:sht] := sql.bind(X_4:int, "sys":str, "_tables":str, "type":str, 0:int);
    C_5:bat[:oid] := sql.tid(X_4:int, "sys":str, "_tables":str);
    C_91:bat[:oid] := algebra.thetaselect(X_22:bat[:sht], C_5:bat[:oid], 2:sht, "!=":str);
    (X_25:bat[:oid], X_26:bat[:sht]) := sql.bind(X_4:int, "sys":str, "_tables":str, "type":str, 2:int);
    C_92:bat[:oid] := algebra.thetaselect(X_26:bat[:sht], nil:bat[:oid], 2:sht, "!=":str);
    X_24:bat[:sht] := sql.bind(X_4:int, "sys":str, "_tables":str, "type":str, 1:int);
    C_94:bat[:oid] := algebra.thetaselect(X_24:bat[:sht], C_5:bat[:oid], 2:sht, "!=":str);
    C_30:bat[:oid] := sql.subdelta(C_91:bat[:oid], C_5:bat[:oid], X_25:bat[:oid], C_92:bat[:oid], C_94:bat[:oid]);
    X_34:lng := aggr.count(C_30:bat[:oid]);
    X_41:bat[:lng] := bat.single(X_34:lng);
    C_35:bat[:oid] := sql.tid(X_4:int, "tmp":str, "_tables":str);
    X_40:lng := aggr.count(C_35:bat[:oid]);
    X_44:bat[:lng] := bat.append(X_42:bat[:lng], X_41:bat[:lng], true:bit);
    X_46:bat[:lng] := bat.append(X_44:bat[:lng], X_40:lng, true:bit);
    X_47:lng := aggr.sum(X_46:bat[:lng]);
    sql.resultSet(".%10":str, "%10":str, "bigint":str, 64:int, 0:int, 7:int, X_47:lng);
end user.main;
#inline               actions= 0 time=1 usec 
#remap                actions= 0 time=2 usec 
#costmodel            actions= 1 time=1 usec 
#coercion             actions= 0 time=2 usec 
#aliases              actions= 1 time=6 usec 
#evaluate             actions= 0 time=6 usec 
#emptybind            actions= 0 time=1 usec 
#pushselect           actions= 2 time=23 usec 
#aliases              actions= 0 time=0 usec 
#mergetable           actions= 0 time=44 usec 
#deadcode             actions=14 time=11 usec 
#aliases              actions= 0 time=0 usec 
#constants            actions= 1 time=6 usec 
#commonTerms          actions= 0 time=6 usec 
#projectionpath       actions= 0 time=3 usec 
#deadcode             actions= 0 time=7 usec 
#reorder              actions= 1 time=18 usec 
#matpack              actions= 0 time=0 usec 
#multiplex            actions= 0 time=1 usec 
#profiler             actions= 1 time=1 usec 
#candidates           actions= 1 time=1 usec 
#deadcode             actions= 0 time=7 usec 
#postfix              actions= 0 time=4 usec 
#wlc                  actions= 0 time=0 usec 
#garbagecollector     actions= 1 time=31 usec 
#total                actions=27 time=280 usec 
#set optimizer='default_pipe';

# 15:15:25 >  
# 15:15:25 >  "Done."
# 15:15:25 >  

