statement ok
start transaction

statement ok
create table onet (a text, b text, c text)

statement ok
insert into onet values ('a', 'b', 'c')

statement ok
create function get_onet(d text) returns table (aa text, bb text, cc text) return table(select * from onet where a = d)

statement ok
prepare select * from get_onet(?)

statement ok
exec **('a')

statement ok
prepare select * from get_onet(?) tt where tt.aa = ?

statement ok
exec **('a', 'b')

statement ok
prepare with something as (select a from onet where a = ?) select * from get_onet(?), something

statement ok
exec **('a', 'a')

statement ok
drop function get_onet

statement ok
drop table onet

statement ok
CREATE FUNCTION twoargs(input1 INT, input2 CLOB) RETURNS TABLE (outt CLOB) BEGIN RETURN TABLE(SELECT input1 || input2); END

statement ok
prepare select 1 from twoargs(?,?)

statement ok
rollback


