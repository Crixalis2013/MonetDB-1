stdout of test 'dependency_functions` in directory 'sql/test/Dependencies` itself:


# 13:01:18 >  
# 13:01:18 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-84217" "--port=36919"
# 13:01:18 >  

#CREATE FUNCTION f1(num int)
#RETURNS int
#BEGIN 
#	IF num >0
#		THEN RETURN 1;
#		ELSE RETURN 0;
#	END IF;
#END;
#CREATE FUNCTION f1()
#RETURNS int
#BEGIN 
#	RETURN 0;
#END;
#CREATE FUNCTION f2(x int)
#RETURNS int
#BEGIN
#	IF f1(x) > 0
#		THEN RETURN 1;
#	END IF;
#
#	IF f1() < 0
#		THEN RETURN 2;
#	END IF;
#
#END;
#CREATE FUNCTION f3()
#RETURNS int
#BEGIN
#	IF f1() < 0
#		THEN RETURN 1;
#	END IF;
#END;
#SELECT f1.name, f2.name, 'DEP_FUNC' from sys.functions as f1, sys.functions as f2, sys.dependencies as dep where f1.id = dep.id AND f2.id = dep.depend_id AND dep.depend_type = 7 order by f2.name, f1.name;
% sys.f1,	sys.f2,	.%1 # table_name
% name,	name,	%1 # name
% varchar,	varchar,	char # type
% 17,	16,	8 # length
[ "describe_type",	"describe_columns",	"DEP_FUNC"	]
[ "f1",	"f2",	"DEP_FUNC"	]
[ "f1",	"f2",	"DEP_FUNC"	]
[ "f1",	"f3",	"DEP_FUNC"	]
[ "ms_trunc",	"ms_round",	"DEP_FUNC"	]
[ "st_numgeometries",	"st_numpatches",	"DEP_FUNC"	]
[ "st_geometryn",	"st_patchn",	"DEP_FUNC"	]
[ "getproj4",	"st_transform",	"DEP_FUNC"	]
[ "internaltransform",	"st_transform",	"DEP_FUNC"	]
[ "st_srid",	"st_transform",	"DEP_FUNC"	]
#DROP FUNCTION f2;
#DROP FUNCTION f3;
#DROP ALL FUNCTION f1;
#SELECT f1.name, f2.name, 'DEP_FUNC' from sys.functions as f1, sys.functions as f2, sys.dependencies as dep where f1.id = dep.id AND f2.id = dep.depend_id AND dep.depend_type = 7 order by f2.name, f1.name;
% sys.f1,	sys.f2,	.%1 # table_name
% name,	name,	%1 # name
% varchar,	varchar,	char # type
% 17,	16,	8 # length
[ "describe_type",	"describe_columns",	"DEP_FUNC"	]
[ "ms_trunc",	"ms_round",	"DEP_FUNC"	]
[ "st_numgeometries",	"st_numpatches",	"DEP_FUNC"	]
[ "st_geometryn",	"st_patchn",	"DEP_FUNC"	]
[ "getproj4",	"st_transform",	"DEP_FUNC"	]
[ "internaltransform",	"st_transform",	"DEP_FUNC"	]
[ "st_srid",	"st_transform",	"DEP_FUNC"	]
#create table t1(id int, name varchar(1024), age int);
#create function f1()
#returns int
#BEGIN
#        return 1;
#END;
#create view v1 as select * from t1 where id = f1();
#DROP function f1 cascade;
#DROP table t1;

# 13:01:18 >  
# 13:01:18 >  "Done."
# 13:01:18 >  

