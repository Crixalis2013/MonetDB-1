stdout of test 'trigger_schema` in directory 'sql/test/Triggers` itself:


# 14:26:57 >  
# 14:26:57 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-75225" "--port=38787"
# 14:26:57 >  

#START TRANSACTION;
#create schema foo;
#set schema foo;
#create table t1 (id serial, ref bigint);
#create table t2 (id serial, ref bigint);
#create function f(ref bigint) returns bigint begin return 10*ref; end;
#create schema bar;
#set schema bar;
#create function f(ref bigint) returns bigint begin return 100*ref; end;
#create table t1 (id serial, ref bigint);
#create table t2 (id serial, ref bigint);
#create trigger extra_insert
#    AFTER INSERT ON t1 referencing new row as new_row
#    FOR EACH statement insert into t2(ref) values (f(new_row.ref));
#insert into t1(ref) values (10);
[ 1	]
#set schema foo;
#insert into bar.t1(ref) values (10);
[ 1	]
#select * from bar.t1;
% bar.t1,	bar.t1 # table_name
% id,	ref # name
% int,	bigint # type
% 1,	2 # length
[ 1,	10	]
[ 2,	10	]
#select * from bar.t2;
% bar.t2,	bar.t2 # table_name
% id,	ref # name
% int,	bigint # type
% 1,	4 # length
[ 1,	1000	]
[ 2,	1000	]
#select * from foo.t1;
% foo.t1,	foo.t1 # table_name
% id,	ref # name
% int,	bigint # type
% 1,	1 # length
#select * from foo.t2;
% foo.t2,	foo.t2 # table_name
% id,	ref # name
% int,	bigint # type
% 1,	1 # length
#ROLLBACK;

# 14:26:57 >  
# 14:26:57 >  "Done."
# 14:26:57 >  

