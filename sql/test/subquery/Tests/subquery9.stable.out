stdout of test 'subquery9` in directory 'sql/test/subquery` itself:


# 10:29:26 >  
# 10:29:26 >  "mclient" "-lsql" "-ftest" "-tnone" "-Eutf-8" "-i" "-e" "--host=/var/tmp/mtest-41510" "--port=34596"
# 10:29:26 >  

#CREATE TABLE branches (
#  bid int NOT NULL default '0',
#  cid tinyint NOT NULL default '0',
#  bdesc varchar(255) NOT NULL default '',
#  bloc char(3) NOT NULL default '');
#INSERT INTO branches (bid, cid, bdesc, bloc) VALUES
# (1011, 101, 'Corporate HQ', 'CA'),
# (1012, 101, 'Accounting Department', 'NY'),
# (1013, 101, 'Customer Grievances Department', 'KA'),
# (1041, 104, 'Branch Office (East)', 'MA'),
# (1042, 104, 'Branch Office (West)', 'CA'),
# (1101, 110, 'Head Office', 'CA'),
# (1031, 103, 'N Region HO', 'ME'),
# (1032, 103, 'NE Region HO', 'CT'),
# (1033, 103, 'NW Region HO', 'NY');
[ 9	]
#CREATE TABLE branches_services (
#  bid int NOT NULL default '0',
#  sid tinyint NOT NULL default '0');
#INSERT INTO branches_services (bid, sid) VALUES
# (1011, 1),
# (1011, 2),
# (1011, 3),
# (1011, 4),
# (1012, 1),
# (1013, 5),
# (1041, 1),
# (1041, 4),
# (1042, 1),
# (1042, 4),
# (1101, 1),
# (1031, 2),
# (1031, 3),
# (1031, 4),
# (1032, 3),
# (1033, 4);
[ 16	]
#CREATE TABLE clients (
#  cid tinyint NOT NULL default '0',
#  cname varchar(255) NOT NULL default '',
#  PRIMARY KEY (cid));
#INSERT INTO clients (cid, cname) VALUES
# (101, 'JV Real Estate'),
# (102, 'ABC Talent Agency'),
# (103, 'DMW Trading'),
# (104, 'Rabbit Foods Inc'),
# (110, 'Sharp Eyes Detective Agency');
[ 5	]
#CREATE TABLE services (
#  sid tinyint NOT NULL default '0',
#  sname varchar(255) NOT NULL default '',
#  sfee float(6,2) NOT NULL default '0.00',
#  PRIMARY KEY (sid));
#INSERT INTO services (sid, sname, sfee) VALUES
# (1, 'Accounting', 1500.00),
# (2, 'Recruitment', 500.00),
# (3, 'Data Management', 300.00),
# (4, 'Administration', 500.00),
# (5, 'Customer Support', 2500.00),
# (6, 'Security', 600.00); 
[ 6	]
#SELECT * FROM clients;
% sys.clients,	sys.clients # table_name
% cid,	cname # name
% tinyint,	varchar # type
% 3,	27 # length
[ 101,	"JV Real Estate"	]
[ 102,	"ABC Talent Agency"	]
[ 103,	"DMW Trading"	]
[ 104,	"Rabbit Foods Inc"	]
[ 110,	"Sharp Eyes Detective Agency"	]
#SELECT cname, bdesc, bloc FROM clients, branches WHERE clients.cid = branches.cid AND branches.bloc = 'CA';
% sys.clients,	sys.branches,	sys.branches # table_name
% cname,	bdesc,	bloc # name
% varchar,	varchar,	char # type
% 27,	20,	3 # length
[ "JV Real Estate",	"Corporate HQ",	"CA"	]
[ "Rabbit Foods Inc",	"Branch Office (West)",	"CA"	]
[ "Sharp Eyes Detective Agency",	"Head Office",	"CA"	]
#SELECT cid FROM clients WHERE cname = 'Rabbit Foods Inc';
% sys.clients # table_name
% cid # name
% tinyint # type
% 3 # length
[ 104	]
#SELECT bdesc FROM branches, clients WHERE clients.cid = branches.cid AND clients.cname = 'Rabbit Foods Inc';
% sys.branches # table_name
% bdesc # name
% varchar # type
% 20 # length
[ "Branch Office (East)"	]
[ "Branch Office (West)"	]
#SELECT bdesc FROM branches WHERE cid = (SELECT cid FROM clients WHERE cname = 'Rabbit Foods Inc');
% sys.branches # table_name
% bdesc # name
% varchar # type
% 20 # length
[ "Branch Office (East)"	]
[ "Branch Office (West)"	]
#SELECT sname FROM services WHERE sid = (SELECT sid FROM branches_services WHERE bid = (SELECT bid FROM branches WHERE cid = (SELECT cid FROM clients WHERE cname = 'Sharp Eyes Detective Agency')));
% sys.services # table_name
% sname # name
% varchar # type
% 10 # length
[ "Accounting"	]
#SELECT cid, COUNT(bid) FROM branches GROUP BY cid;
% sys.branches,	sys.%1 # table_name
% cid,	%1 # name
% tinyint,	bigint # type
% 3,	1 # length
[ 101,	3	]
[ 104,	2	]
[ 110,	1	]
[ 103,	3	]
#SELECT cid, COUNT(bid) FROM branches GROUP BY cid HAVING COUNT(bid) = 2;
% sys.branches,	sys.%1 # table_name
% cid,	%1 # name
% tinyint,	bigint # type
% 3,	1 # length
[ 104,	2	]
#SELECT cname FROM clients WHERE cid = 104;
% sys.clients # table_name
% cname # name
% varchar # type
% 16 # length
[ "Rabbit Foods Inc"	]
#SELECT cname FROM clients WHERE cid = (SELECT cid FROM branches GROUP BY cid HAVING COUNT(bid) = 2);
% sys.clients # table_name
% cname # name
% varchar # type
% 16 # length
[ "Rabbit Foods Inc"	]
#SELECT cname, bdesc FROM clients, branches, branches_services, services WHERE services.sid = branches_services.sid AND clients.cid = branches.cid AND branches.bid = branches_services.bid AND sfee = (SELECT MAX(sfee) FROM services); 
% sys.clients,	sys.branches # table_name
% cname,	bdesc # name
% varchar,	varchar # type
% 14,	30 # length
[ "JV Real Estate",	"Customer Grievances Department"	]
#SELECT bid FROM branches_services GROUP BY bid HAVING COUNT(sid) > (SELECT COUNT(*) FROM services)/2;
% .branches_services # table_name
% bid # name
% int # type
% 4 # length
[ 1011	]
#SELECT bs.bid, count(c.cid), count(b.bid) FROM clients AS c, branches AS b, branches_services AS bs WHERE c.cid = b.cid AND b.bid = bs.bid GROUP BY bs.bid HAVING COUNT(bs.sid) > (SELECT COUNT(*) FROM services)/2;
% .bs,	.%1,	.%2 # table_name
% bid,	%1,	%2 # name
% int,	bigint,	bigint # type
% 4,	1,	1 # length
[ 1011,	4,	4	]
#SELECT branches.bid, COUNT(sid) FROM branches, branches_services WHERE branches.bid = branches_services.bid GROUP BY branches.bid HAVING COUNT(sid) = (SELECT COUNT(*) FROM services);
% .branches,	.%1 # table_name
% bid,	%1 # name
% int,	bigint # type
% 1,	1 # length
#SELECT clients.cid, count(clients.cname) FROM clients, branches, branches_services WHERE branches.bid = branches_services.bid AND branches.cid = clients.cid GROUP BY clients.cid HAVING COUNT(sid) = (SELECT COUNT(*) FROM services);
% .clients,	.%1 # table_name
% cid,	%1 # name
% tinyint,	bigint # type
% 3,	1 # length
[ 101,	6	]
#SELECT cname FROM clients LEFT JOIN branches ON clients.cid = branches.cid WHERE branches.bid IS NULL;
% .clients # table_name
% cname # name
% varchar # type
% 17 # length
[ "ABC Talent Agency"	]
#SELECT cname FROM clients WHERE cid = (SELECT clients.cid FROM branches RIGHT JOIN clients ON clients.cid = branches.cid WHERE branches.bid IS NULL);
% sys.clients # table_name
% cname # name
% varchar # type
% 17 # length
[ "ABC Talent Agency"	]
#SELECT bid FROM branches_services WHERE sid = (SELECT sid FROM
#  services WHERE sname = 'Recruitment');
% sys.branches_services # table_name
% bid # name
% int # type
% 4 # length
[ 1011	]
[ 1031	]
#SELECT bs.bid FROM branches_services AS bs, services AS s WHERE s.sid = bs.sid AND s.sname = 'Recruitment';
% sys.bs # table_name
% bid # name
% int # type
% 4 # length
[ 1011	]
[ 1031	]
#SELECT bid, bdesc, bloc FROM branches WHERE bloc = (SELECT bloc FROM branches WHERE bid = 1101 AND cid = 110);
% sys.branches,	sys.branches,	sys.branches # table_name
% bid,	bdesc,	bloc # name
% int,	varchar,	char # type
% 4,	20,	3 # length
[ 1011,	"Corporate HQ",	"CA"	]
[ 1042,	"Branch Office (West)",	"CA"	]
[ 1101,	"Head Office",	"CA"	]
#SELECT table1.bid, table1.bdesc, table1.bloc FROM branches AS table1, branches AS table2 WHERE table2.bid = 1101 AND table2.cid = 110 AND table1.bloc = table2.bloc ;
% sys.table1,	sys.table1,	sys.table1 # table_name
% bid,	bdesc,	bloc # name
% int,	varchar,	char # type
% 4,	20,	3 # length
[ 1011,	"Corporate HQ",	"CA"	]
[ 1042,	"Branch Office (West)",	"CA"	]
[ 1101,	"Head Office",	"CA"	]

# 10:29:26 >  
# 10:29:26 >  "Done."
# 10:29:26 >  

