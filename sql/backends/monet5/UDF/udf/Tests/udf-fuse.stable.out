stdout of test 'udf-fuse` in directory 'sql/backends/monet5/UDF/udf` itself:


# 18:49:07 >  
# 18:49:07 >  "mserver5" "--debug=10" "--set" "gdk_nr_threads=0" "--set" "gdk_dbfarm=/ufs/manegold/_/Monet/HG/default/prefix/--disable-debug_--enable-optimize_--disable-assert/var/MonetDB" "--set" "mapi_open=true" "--set" "mapi_port=31089" "--set" "monet_prompt=" "--trace" "--forcemito" "--set" "mal_listing=2" "--dbname=mTests_backends_monet5_UDF" "--set" "mal_listing=0"
# 18:49:07 >  

#set optimizer = 'sequential_pipe';
#create table udf_fuse ( a tinyint , b tinyint , c smallint , d smallint , e integer , f integer );
#insert into udf_fuse values  (1,2,1000,2000,1000000,2000000);
[ 1	]
#insert into udf_fuse values  (3,4,3000,4000,3000000,4000000);
[ 1	]
#insert into udf_fuse values  (5,6,5000,6000,5000000,6000000);
[ 1	]
#insert into udf_fuse values  (7,8,7000,8000,7000000,8000000);
[ 1	]
#select * from udf_fuse;
% sys.udf_fuse,	sys.udf_fuse,	sys.udf_fuse,	sys.udf_fuse,	sys.udf_fuse,	sys.udf_fuse # table_name
% a,	b,	c,	d,	e,	f # name
% tinyint,	tinyint,	smallint,	smallint,	int,	int # type
% 1,	1,	4,	4,	7,	7 # length
[ 1,	2,	1000,	2000,	1000000,	2000000	]
[ 3,	4,	3000,	4000,	3000000,	4000000	]
[ 5,	6,	5000,	6000,	5000000,	6000000	]
[ 7,	8,	7000,	8000,	7000000,	8000000	]
#create procedure profiler.starttrace() external name profiler."starttrace";
#create procedure profiler.stoptrace() external name profiler.stoptrace;
#select fuse(1,2);
% .%2 # table_name
% %2 # name
% smallint # type
% 3 # length
[ 258	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- don't use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select fuse(1,2);
% .%2 # table_name
% %2 # name
% smallint # type
% 3 # length
[ 258	]
#select fuse(1000,2000);
% .%2 # table_name
% %2 # name
% int # type
% 8 # length
[ 65538000	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- don't use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select fuse(1000,2000);
% .%2 # table_name
% %2 # name
% int # type
% 8 # length
[ 65538000	]
#select fuse(1000000,2000000);
% .%2 # table_name
% %2 # name
% bigint # type
% 16 # length
[ 4294967298000000	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- don't use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select fuse(1000000,2000000);
% .%2 # table_name
% %2 # name
% bigint # type
% 16 # length
[ 4294967298000000	]
#select fuse(a,b) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% smallint # type
% 4 # length
[ 258	]
[ 772	]
[ 1286	]
[ 1800	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- don't use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select fuse(a,b) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% smallint # type
% 4 # length
[ 258	]
[ 772	]
[ 1286	]
[ 1800	]
#select fuse(c,d) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% int # type
% 9 # length
[ 65538000	]
[ 196612000	]
[ 327686000	]
[ 458760000	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- don't use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select fuse(c,d) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% int # type
% 9 # length
[ 65538000	]
[ 196612000	]
[ 327686000	]
[ 458760000	]
#select fuse(e,f) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% bigint # type
% 17 # length
[ 4294967298000000	]
[ 12884901892000000	]
[ 21474836486000000	]
[ 30064771080000000	]
#select count(*) from sys.tracelog() where stmt like '% batudf.fuse%'; -- use bulk
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 1	]
#select count(*) from sys.tracelog() where stmt like '% udf.fuse%'; -- don't use scalar
% .%2 # table_name
% %2 # name
% bigint # type
% 1 # length
[ 0	]
#select fuse(e,f) from udf_fuse;
% sys.%1 # table_name
% %1 # name
% bigint # type
% 17 # length
[ 4294967298000000	]
[ 12884901892000000	]
[ 21474836486000000	]
[ 30064771080000000	]

# 18:49:07 >  
# 18:49:07 >  "Done."
# 18:49:07 >  

